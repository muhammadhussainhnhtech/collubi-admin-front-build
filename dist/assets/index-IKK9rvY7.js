import{R as o,b as S,j as e,I as P,D as j,d as p,e as r,C as D,f as w,g as M,T,h as k,i as c,k as _,l as u,m as F,n as h,o as I,p as V,q as H,r as B,s as m,t as K,E as A,Q as z,x as L,v as E,y as G,z as Q,A as q,G as n,H as $,aj as J,K as O,B as U}from"./index-CDPTAo9J.js";function W({columns:s,data:i}){var x,g;const[d,C]=o.useState([]),[b,f]=o.useState([]),[v,N]=o.useState({}),[R,y]=o.useState({}),a=S({data:i,columns:s,onSortingChange:C,onColumnFiltersChange:f,getCoreRowModel:B(),getPaginationRowModel:H(),getSortedRowModel:V(),getFilteredRowModel:I(),onColumnVisibilityChange:N,onRowSelectionChange:y,state:{sorting:d,columnFilters:b,columnVisibility:v,rowSelection:R}});return e.jsxs("div",{className:"w-full overflow-x-auto",children:[e.jsxs("div",{className:"flex flex-wrap  justify-between py-4 gap-y-4",children:[e.jsx(P,{placeholder:"Search...",value:((x=a.getColumn("product_title"))==null?void 0:x.getFilterValue())??"",onChange:t=>{var l;return(l=a.getColumn("product_title"))==null?void 0:l.setFilterValue(t.target.value)},className:"w-full sm:max-w-sm"}),e.jsx("div",{className:"flex flex-wrap gap-4 items-center w-full sm:w-auto",children:e.jsxs(j,{children:[e.jsx(p,{asChild:!0,children:e.jsxs(r,{variant:"dark",className:"ml-auto",children:["Columns ",e.jsx(D,{})]})}),e.jsx(w,{align:"end",children:a.getAllColumns().filter(t=>t.getCanHide()).map(t=>e.jsx(M,{className:"capitalize",checked:t.getIsVisible(),onCheckedChange:l=>t.toggleVisibility(!!l),children:t.id},t.id))})]})})]}),e.jsx("div",{className:"rounded-md border border-sidebar-border overflow-x-auto",children:e.jsxs(T,{children:[e.jsx(k,{children:a.getHeaderGroups().map(t=>e.jsx(c,{children:t.headers.map(l=>e.jsx(_,{className:"text-center",children:l.isPlaceholder?null:u(l.column.columnDef.header,l.getContext())},l.id))},t.id))}),e.jsx(F,{children:(g=a.getRowModel().rows)!=null&&g.length?a.getRowModel().rows.map(t=>e.jsx(c,{"data-state":t.getIsSelected()&&"selected",children:t.getVisibleCells().map(l=>e.jsx(h,{className:"text-center",children:u(l.column.columnDef.cell,l.getContext())},l.id))},t.id)):e.jsx(c,{children:e.jsx(h,{colSpan:s.length,className:"h-24 text-center",children:"No results."})})})]})}),e.jsxs("div",{className:"flex flex-wrap items-center justify-between space-y-2 sm:space-y-0 py-4",children:[e.jsxs("div",{className:"flex-1 text-sm text-muted-foreground text-center sm:text-left",children:[a.getFilteredSelectedRowModel().rows.length," of ",a.getFilteredRowModel().rows.length," row(s) selected."]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(r,{variant:"outline",size:"sm",onClick:()=>a.previousPage(),disabled:!a.getCanPreviousPage(),children:"Previous"}),e.jsx(r,{variant:"outline",size:"sm",onClick:()=>a.nextPage(),disabled:!a.getCanNextPage(),children:"Next"})]})]})]})}const X=[{id:"select",header:({table:s})=>e.jsx(m,{checked:s.getIsAllPageRowsSelected()||s.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:i=>s.toggleAllPageRowsSelected(!!i)}),cell:({row:s})=>e.jsx(m,{checked:s.getIsSelected(),onCheckedChange:i=>s.toggleSelected(!!i)}),enableSorting:!1,enableHiding:!1},{accessorKey:"product_image",header:"Product Image",cell:({row:s})=>e.jsx("img",{src:s.original.product_image,alt:"Product",className:"w-12 h-12 object-cover rounded-md"})},{accessorKey:"product_title",header:"Product Title",cell:({row:s})=>e.jsx("div",{className:"font-medium max-w-xs truncate",children:s.original.product_title})},{accessorKey:"reported_by_user_name",header:"Reported By"},{accessorKey:"reason",header:"Reason",cell:({row:s})=>e.jsx("span",{className:"text-sm text-muted-foreground max-w-xs break-words",children:s.original.reason})},{accessorKey:"status",header:"Status",cell:({row:s})=>{const i=s.original.status,d=i==="approved"?"text-green-600":i==="rejected"?"text-red-600":"text-yellow-600";return e.jsx("span",{className:`font-semibold ${d}`,children:i})}},{id:"actions",enableHiding:!1,cell:({row:s})=>e.jsxs(K,{children:[e.jsxs(j,{children:[e.jsx(p,{asChild:!0,children:e.jsx(r,{variant:"ghost",className:"h-8 w-8 p-0",children:e.jsx(A,{})})}),e.jsxs(w,{align:"end",children:[e.jsx(z,{children:"Actions"}),e.jsx(L,{asChild:!0,children:e.jsx(E,{children:"View"})})]})]}),e.jsxs(G,{className:"sm:max-w-[425px]",children:[e.jsx(Q,{children:e.jsx(q,{children:"Product Report Details"})}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{children:[e.jsx(n,{className:"font-bold ",children:"Product Title"}),e.jsx("p",{className:"text-center text-wrap",children:s.original.product_title})]}),e.jsxs("div",{children:[e.jsx(n,{className:"font-bold",children:"Reported By"}),e.jsx("p",{children:s.original.reported_by_user_name})]}),e.jsxs("div",{children:[e.jsx(n,{className:"font-bold",children:"Reason"}),e.jsx("p",{children:s.original.reason})]}),e.jsxs("div",{children:[e.jsx(n,{className:"font-bold",children:"Status"}),e.jsx("p",{children:s.original.status})]})]}),e.jsx($,{})]})]})}];function Z(){const{data:s,isLoading:i}=J();return i?e.jsx(O,{}):e.jsxs("div",{children:[e.jsx(U,{title:" Product Complains"}),e.jsx(W,{data:s==null?void 0:s.data,columns:X})]})}export{Z as default};
